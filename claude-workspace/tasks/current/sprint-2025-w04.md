# Sprint 2025-W04 (2025-01-20 ~ 2025-01-31)

> 스프린트 목표: JWT 인증 시스템 완성 및 예약 시스템 안정화
> 총 스토리 포인트: 42
> 진행률: 65%

## 🎯 스프린트 목표

1. ✅ JWT 인증 시스템 완성 (2025-01-25 완료)
2. 예약 API 동시성 버그 해결
3. 타임슬롯 UI 완성
4. v0.1.0 프로덕션 배포
5. 결제 모듈 설계 완료

## 📋 작업 목록

### ✅ 완료된 작업

#### TASK-000: JWT 인증 시스템 완성 
- **담당**: @fullstack-team
- **포인트**: 8
- **상태**: ✅ 완료 (2025-01-25)
- **설명**: 완전한 JWT 기반 인증 시스템 구현
- **작업 내용**:
  ```
  - [x] auth-service: GET /auth/me 엔드포인트 구현
  - [x] auth-service: getCurrentUser 메서드 완전한 관리자 정보 조회
  - [x] auth-service: NATS 'auth.getCurrentUser' 메시지 핸들러 추가
  - [x] admin-api: GET /api/admin/auth/me BFF 엔드포인트 구현
  - [x] admin-api: 관리자 권한 검증 로직 추가
  - [x] admin-api: NATS 통신 getCurrentUser 메서드 구현
  - [x] admin-dashboard: Mock 데이터 완전 제거
  - [x] admin-dashboard: 실제 API 기반 인증 컨텍스트 구현
  - [x] 자동 에러 처리 및 토큰 정리 로직
  - [x] 권한, 부서, 회사 정보 포함한 완전한 프로필 지원
  ```

### 🚨 긴급 (Must Have)

#### TASK-001: 예약 API 버그 수정
- **담당**: @backend-team
- **포인트**: 8
- **상태**: 🔴 미시작
- **설명**: 동시 예약 시 중복 예약 발생 버그
- **작업 내용**:
  ```
  - [ ] 버그 재현 테스트 케이스 작성
  - [ ] 트랜잭션 격리 수준 SERIALIZABLE로 변경
  - [ ] Pessimistic locking 구현
  - [ ] 부하 테스트 (1000 동시 요청)
  - [ ] 프로덕션 패치 준비
  ```

#### TASK-002: 프로덕션 배포 준비
- **담당**: @devops-team
- **포인트**: 5
- **상태**: 🟡 진행중 (70%)
- **설명**: v0.1.0 프로덕션 환경 구성
- **작업 내용**:
  ```
  - [x] Dockerfile 최적화
  - [x] K8s manifests 작성
  - [x] ConfigMap/Secret 설정
  - [ ] Health check 엔드포인트 구현
  - [ ] Prometheus metrics 설정
  - [ ] Grafana 대시보드 구성
  ```

### 🎯 핵심 기능 (Should Have)

#### TASK-003: 타임슬롯 관리 UI 개선
- **담당**: @frontend-team
- **포인트**: 13
- **상태**: 🟡 진행중 (40%)
- **설명**: 사용자 친화적 타임슬롯 선택 UI
- **작업 내용**:
  ```
  - [x] 캘린더 컴포넌트 구현
  - [x] 타임슬롯 그리드 뷰
  - [ ] 드래그 앤 드롭 시간 변경
  - [ ] WebSocket 실시간 업데이트
  - [ ] 모바일 반응형 최적화
  - [ ] 접근성(a11y) 개선
  ```

#### TASK-005: 결제 모듈 설계
- **담당**: @backend-team
- **포인트**: 8
- **상태**: 🔴 미시작
- **설명**: 토스페이먼츠 연동 설계
- **작업 내용**:
  ```
  - [ ] PG API 문서 분석
  - [ ] 결제 플로우 다이어그램
  - [ ] 데이터베이스 스키마 설계
  - [ ] API 엔드포인트 설계
  - [ ] 에러 처리 전략
  - [ ] 보안 고려사항 문서화
  ```

### ✨ 개선사항 (Nice to Have)

#### TASK-009: 테스트 커버리지 개선
- **담당**: @qa-team
- **포인트**: 3
- **상태**: 🔴 미시작
- **목표**: 45% → 60%
- **작업 내용**:
  ```
  - [ ] 예약 서비스 단위 테스트
  - [ ] 통합 테스트 추가
  - [ ] E2E 테스트 시나리오
  ```

## 📊 번다운 차트

```
Day 1:  ████████████████████ 42 points
Day 2:  ████████████████████ 42 points
Day 3:  ██████████████████   38 points
Day 4:  ████████████████     32 points
Day 5:  ██████████████       28 points
Day 6:  ██████████           20 points (현재 - JWT 인증 완료)
Day 7:  ------------         16 points (예상)
Day 8:  ------------         12 points (예상)
Day 9:  ------------          8 points (예상)
Day 10: ------------          4 points (예상)
Day 11: ------------          0 points (목표)
```

## 🚧 블로커 및 리스크

### 현재 블로커
1. **예약 API 버그**: 프로덕션 배포 전 필수 해결
   - 영향: 전체 일정 지연 가능
   - 대응: 긴급 태스크포스 구성

### 리스크
1. **PG사 API 변경**: 토스페이먼츠 API v2 마이그레이션
   - 영향도: 중간
   - 대응: 다음 스프린트로 연기 검토

2. **성능 이슈**: 타임슬롯 조회 시 지연
   - 영향도: 높음
   - 대응: 캐싱 전략 수립 중

## 👥 팀별 할당

### Frontend Team (2명)
- TASK-003: 타임슬롯 UI (진행중)
- 총 13 포인트

### Backend Team (3명)
- TASK-001: 예약 버그 (긴급)
- TASK-005: 결제 설계
- 총 16 포인트

### DevOps Team (1명)
- TASK-002: 배포 준비 (진행중)
- 총 5 포인트

### QA Team (1명)
- TASK-009: 테스트 커버리지
- 총 3 포인트

## 📝 일일 스탠드업 노트

### 2025-01-25 (Day 6) 🎉
- **완료**: JWT 인증 시스템 완전 구현 (8 포인트)
  - auth-service /auth/me 엔드포인트
  - admin-api BFF 통합
  - admin-dashboard Mock 데이터 제거
- **진행중**: Health check 구현, 타임슬롯 드래그 앤 드롭
- **블로커**: 없음
- **계획**: 예약 버그 재현 환경 구성

### 2025-01-24 (Day 5)
- **완료**: NATS 메시지 핸들러 구현
- **진행중**: JWT 인증 시스템 통합 테스트
- **블로커**: AdminAuthContext Mock 데이터 이슈
- **계획**: Mock 데이터 완전 제거

### 2025-01-23 (Day 4)
- **완료**: K8s manifests 작성, JWT 토큰 검증 로직
- **진행중**: Health check 구현, 타임슬롯 드래그 앤 드롭
- **블로커**: 예약 버그 재현 어려움
- **계획**: 버그 재현 환경 구성

### 2025-01-22 (Day 3)
- **완료**: 캘린더 컴포넌트, Dockerfile 최적화
- **진행중**: 타임슬롯 그리드 뷰, JWT 인증 설계
- **블로커**: 없음

## 🎯 스프린트 완료 조건

- [ ] 모든 긴급 작업 완료
- [ ] 프로덕션 배포 준비 완료
- [ ] 테스트 커버리지 60% 달성
- [ ] 성능 테스트 통과
- [ ] 문서화 완료

## 🔗 관련 링크

- [스프린트 계획 문서](../../../.claude/TASKS.md)
- [프로젝트 요구사항](../../../.claude/REQUIREMENTS.md)
- [이전 스프린트 회고](../completed/2025-01.md#sprint-w02-회고)